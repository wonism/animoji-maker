var __awaiter=this&&this.__awaiter||function(e,t,i,r){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r["throw"](e))}catch(t){a(t)}}function l(e){e.done?i(e.value):n(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,n,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(e){return function(t){return l([e,t])}}function l(s){if(r)throw new TypeError("Generator is already executing.");while(i)try{if(r=1,n&&(a=s[0]&2?n["return"]:s[0]?n["throw"]||((a=n["return"])&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;if(n=0,a)s=[s[0]&2,a.value];switch(s[0]){case 0:case 1:a=s;break;case 4:i.label++;return{value:s[1],done:false};case 5:i.label++;n=s[1];s=[0];continue;case 7:s=i.ops.pop();i.trys.pop();continue;default:if(!(a=i.trys,a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){i=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(s[0]===6&&i.label<a[1]){i.label=a[1];a=s;break}if(a&&i.label<a[2]){i.label=a[2];i.ops.push(s);break}if(a[2])i.ops.pop();i.trys.pop();continue}s=t.call(e,i)}catch(o){s=[6,o];n=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var r=Array(e),n=0,t=0;t<i;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,n++)r[n]=a[s];return r};System.register(["./p-863a98e5.system.js"],(function(e){"use strict";var t,i,r,n,a;return{setters:[function(e){t=e.r;i=e.h;r=e.H;n=e.g;a=e.c}],execute:function(){var s=e("app_root",function(){function e(e){t(this,e)}e.prototype.render=function(){return i(r,null,i("header",null,i("h1",null,"Animoji Maker ðŸ˜œ")),i("main",null,i("explosion-maker",null),i("hr",null),i("rainbow-effect",null),i("hr",null),i("text-carousel",null)),i("footer",null,i("a",{class:"bmc-button",target:"_blank",href:"https://www.buymeacoffee.com/dQ3sAxl",rel:"noopener noreferrer"},i("img",{src:"https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg",alt:"Buy me a coffee"}),i("span",null,"Buy me a coffee")),i("br",null),i("a",{class:"author",href:"https://github.com/wonism",target:"_blank",rel:"noopener noreferrer"},"Â©wonism")),i("aside",null,i("github-corner",null)))};Object.defineProperty(e,"style",{get:function(){return"[aria-hidden=true]{position:absolute;padding:0;width:1px;height:1px;border:0;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.bmc-button{padding:7px 5px 7px 10px;line-height:35px;height:51px;min-width:217px;text-decoration:none;display:-ms-inline-flexbox;display:inline-flex;color:#fff;background-color:#57BBB3;border-radius:5px;border:1px solid transparent;padding:7px 5px 7px 10px;font-size:22px;letter-spacing:0.6px;margin:0 auto;font-family:\"Cookie\", cursive;-webkit-box-sizing:border-box;box-sizing:border-box}.bmc-button:hover,.bmc-button:active,.bmc-button:focus{text-decoration:none;opacity:0.85;color:#fff}.bmc-button img{width:35px;margin-bottom:1px;-webkit-box-shadow:none;box-shadow:none;border:none;vertical-align:middle}.author{display:inline-block;margin-top:1em;color:#fff}.author:hover,.author:active,.author:focus{text-decoration:none;opacity:0.85;color:#fff}"},enumerable:true,configurable:true});return e}());var o=128;var l=function(e,t){return new Promise((function(i,r){var n=new FileReader;n.readAsDataURL(e);n.onload=function(){var e=n.result;var a=new Image;a.src=e;a.onload=function(){var e,r;var n=document.createElement("canvas");n.width=o;n.height=o;var s=n.getContext("2d");var l=Math.min(o/a.width,o/a.height);var h=a.width*l;var u=a.height*l;var f=(o-h)/2;var p=(o-u)/2;s.globalCompositeOperation="source-over";s.drawImage(a,f,p,h,u);if(((e=t)===null||e===void 0?void 0:e.hue)!=null){s.globalCompositeOperation="source-atop";s.fillStyle="hsla("+t.hue+", 100%, 50%, "+(r=t.alpha,r!==null&&r!==void 0?r:.5)+")";s.fillRect(f,p,h,u)}i(s)};n.onerror=r}}))};function h(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function u(e,t){return t={exports:{}},e(t,t.exports),t.exports}var f=u((function(e,t){(function(t){{e.exports=t()}})((function(){return function e(t,i,r){function n(s,o){if(!i[s]){if(!t[s]){var l=typeof h=="function"&&h;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=i[s]={exports:{}};t[s][0].call(f.exports,(function(e){var i=t[s][1][e];return n(i?i:e)}),f,f.exports,e,t,i,r)}return i[s].exports}var a=typeof h=="function"&&h;for(var s=0;s<r.length;s++)n(r[s]);return n}({1:[function(e,t,i){function r(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=r;r.EventEmitter=r;r.prototype._events=undefined;r.prototype._maxListeners=undefined;r.defaultMaxListeners=10;r.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};r.prototype.emit=function(e){var t,i,r,a,l,h;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||s(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}else{var u=new Error('Uncaught, unspecified "error" event. ('+t+")");u.context=t;throw u}}}i=this._events[e];if(o(i))return false;if(n(i)){switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1);i.apply(this,a)}}else if(s(i)){a=Array.prototype.slice.call(arguments,1);h=i.slice();r=h.length;for(l=0;l<r;l++)h[l].apply(this,a)}return true};r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,n(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(s(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(s(this._events[e])&&!this._events[e].warned){if(!o(this._maxListeners)){i=this._maxListeners}else{i=r.defaultMaxListeners}if(i&&i>0&&this._events[e].length>i){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};r.prototype.on=r.prototype.addListener;r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var i=false;function r(){this.removeListener(e,r);if(!i){i=true;t.apply(this,arguments)}}r.listener=t;this.on(e,r);return this};r.prototype.removeListener=function(e,t){var i,r,a,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;i=this._events[e];a=i.length;r=-1;if(i===t||n(i.listener)&&i.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(s(i)){for(o=a;o-- >0;){if(i[o]===t||i[o].listener&&i[o].listener===t){r=o;break}}if(r<0)return this;if(i.length===1){i.length=0;delete this._events[e]}else{i.splice(r,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};r.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}i=this._events[e];if(n(i)){this.removeListener(e,i)}else if(i){while(i.length)this.removeListener(e,i[i.length-1])}delete this._events[e];return this};r.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(n(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;else if(t)return t.length}return 0};r.listenerCount=function(e,t){return e.listenerCount(t)};function n(e){return typeof e==="function"}function a(e){return typeof e==="number"}function s(e){return typeof e==="object"&&e!==null}function o(e){return e===void 0}},{}],2:[function(e,t,i){var r,n,a,s,o;o=navigator.userAgent.toLowerCase();s=navigator.platform.toLowerCase();r=o.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0];a=r[1]==="ie"&&document.documentMode;n={name:r[1]==="version"?r[3]:r[1],version:a||parseFloat(r[1]==="opera"&&r[4]?r[4]:r[2]),platform:{name:o.match(/ip(?:ad|od|hone)/)?"ios":(o.match(/(?:webos|android)/)||s.match(/mac|win|linux/)||["other"])[0]}};n[n.name]=true;n[n.name+parseInt(n.version,10)]=true;n.platform[n.platform.name]=true;t.exports=n},{}],3:[function(e,t,i){var r,n,a,s=function(e,t){for(var i in t){if(o.call(t,i))e[i]=t[i]}function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e},o={}.hasOwnProperty,l=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++){if(t in this&&this[t]===e)return t}return-1},h=[].slice;r=e("events").EventEmitter;a=e("./browser.coffee");n=function(e){var t,i;s(r,e);t={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:false,dither:false};i={delay:500,copy:false};function r(e){var i,r,n;this.running=false;this.options={};this.frames=[];this.freeWorkers=[];this.activeWorkers=[];this.setOptions(e);for(r in t){n=t[r];if((i=this.options)[r]==null){i[r]=n}}}r.prototype.setOption=function(e,t){this.options[e]=t;if(this._canvas!=null&&(e==="width"||e==="height")){return this._canvas[e]=t}};r.prototype.setOptions=function(e){var t,i,r;i=[];for(t in e){if(!o.call(e,t))continue;r=e[t];i.push(this.setOption(t,r))}return i};r.prototype.addFrame=function(e,t){var r,n;if(t==null){t={}}r={};r.transparent=this.options.transparent;for(n in i){r[n]=t[n]||i[n]}if(this.options.width==null){this.setOption("width",e.width)}if(this.options.height==null){this.setOption("height",e.height)}if(typeof ImageData!=="undefined"&&ImageData!==null&&e instanceof ImageData){r.data=e.data}else if(typeof CanvasRenderingContext2D!=="undefined"&&CanvasRenderingContext2D!==null&&e instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!=="undefined"&&WebGLRenderingContext!==null&&e instanceof WebGLRenderingContext){if(t.copy){r.data=this.getContextData(e)}else{r.context=e}}else if(e.childNodes!=null){if(t.copy){r.data=this.getImageData(e)}else{r.image=e}}else{throw new Error("Invalid image")}return this.frames.push(r)};r.prototype.render=function(){var e,t,i,r;if(this.running){throw new Error("Already running")}if(this.options.width==null||this.options.height==null){throw new Error("Width and height must be set prior to rendering")}this.running=true;this.nextFrame=0;this.finishedFrames=0;this.imageParts=function(){var t,i,r;r=[];for(e=t=0,i=this.frames.length;0<=i?t<i:t>i;e=0<=i?++t:--t){r.push(null)}return r}.call(this);i=this.spawnWorkers();if(this.options.globalPalette===true){this.renderNextFrame()}else{for(e=t=0,r=i;0<=r?t<r:t>r;e=0<=r?++t:--t){this.renderNextFrame()}}this.emit("start");return this.emit("progress",0)};r.prototype.abort=function(){var e;while(true){e=this.activeWorkers.shift();if(e==null){break}this.log("killing active worker");e.terminate()}this.running=false;return this.emit("abort")};r.prototype.spawnWorkers=function(){var e,t,i;e=Math.min(this.options.workers,this.frames.length);(function(){i=[];for(var r=t=this.freeWorkers.length;t<=e?r<e:r>e;t<=e?r++:r--){i.push(r)}return i}).apply(this).forEach(function(e){return function(t){var i;e.log("spawning worker "+t);i=new Worker(e.options.workerScript);i.onmessage=function(t){e.activeWorkers.splice(e.activeWorkers.indexOf(i),1);e.freeWorkers.push(i);return e.frameFinished(t.data)};return e.freeWorkers.push(i)}}(this));return e};r.prototype.frameFinished=function(e){var t,i,r;this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active");this.finishedFrames++;this.emit("progress",this.finishedFrames/this.frames.length);this.imageParts[e.index]=e;if(this.options.globalPalette===true){this.options.globalPalette=e.globalPalette;this.log("global palette analyzed");if(this.frames.length>2){for(t=i=1,r=this.freeWorkers.length;1<=r?i<r:i>r;t=1<=r?++i:--i){this.renderNextFrame()}}}if(l.call(this.imageParts,null)>=0){return this.renderNextFrame()}else{return this.finishRendering()}};r.prototype.finishRendering=function(){var e,t,i,r,n,a,s,o,l,h,u,f,p,d,c,g;o=0;d=this.imageParts;for(n=0,l=d.length;n<l;n++){t=d[n];o+=(t.data.length-1)*t.pageSize+t.cursor}o+=t.pageSize-t.cursor;this.log("rendering finished - filesize "+Math.round(o/1e3)+"kb");e=new Uint8Array(o);f=0;c=this.imageParts;for(a=0,h=c.length;a<h;a++){t=c[a];g=t.data;for(i=s=0,u=g.length;s<u;i=++s){p=g[i];e.set(p,f);if(i===t.data.length-1){f+=t.cursor}else{f+=t.pageSize}}}r=new Blob([e],{type:"image/gif"});return this.emit("finished",r,e)};r.prototype.renderNextFrame=function(){var e,t,i;if(this.freeWorkers.length===0){throw new Error("No free workers")}if(this.nextFrame>=this.frames.length){return}e=this.frames[this.nextFrame++];i=this.freeWorkers.shift();t=this.getTask(e);this.log("starting frame "+(t.index+1)+" of "+this.frames.length);this.activeWorkers.push(i);return i.postMessage(t)};r.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data};r.prototype.getImageData=function(e){var t;if(this._canvas==null){this._canvas=document.createElement("canvas");this._canvas.width=this.options.width;this._canvas.height=this.options.height}t=this._canvas.getContext("2d");t.setFill=this.options.background;t.fillRect(0,0,this.options.width,this.options.height);t.drawImage(e,0,0);return this.getContextData(t)};r.prototype.getTask=function(e){var t,i;t=this.frames.indexOf(e);i={index:t,last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:a.name==="chrome"};if(e.data!=null){i.data=e.data}else if(e.context!=null){i.data=this.getContextData(e.context)}else if(e.image!=null){i.data=this.getImageData(e.image)}else{throw new Error("Invalid frame")}return i};r.prototype.log=function(){var e;e=1<=arguments.length?h.call(arguments,0):[];if(!this.options.debug){return}return console.log.apply(console,e)};return r}(r);t.exports=n},{"./browser.coffee":2,events:1}]},{},[3])(3)}))}));var p='// gif.worker.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module \'"+o+"\'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var NeuQuant=require("./TypedNeuQuant.js");var LZWEncoder=require("./LZWEncoder.js");function ByteArray(){this.page=-1;this.pages=[];this.newPage()}ByteArray.pageSize=4096;ByteArray.charMap={};for(var i=0;i<256;i++)ByteArray.charMap[i]=String.fromCharCode(i);ByteArray.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(ByteArray.pageSize);this.cursor=0};ByteArray.prototype.getData=function(){var rv="";for(var p=0;p<this.pages.length;p++){for(var i=0;i<ByteArray.pageSize;i++){rv+=ByteArray.charMap[this.pages[p][i]]}}return rv};ByteArray.prototype.writeByte=function(val){if(this.cursor>=ByteArray.pageSize)this.newPage();this.pages[this.page][this.cursor++]=val};ByteArray.prototype.writeUTFBytes=function(string){for(var l=string.length,i=0;i<l;i++)this.writeByte(string.charCodeAt(i))};ByteArray.prototype.writeBytes=function(array,offset,length){for(var l=length||array.length,i=offset||0;i<l;i++)this.writeByte(array[i])};function GIFEncoder(width,height){this.width=~~width;this.height=~~height;this.transparent=null;this.transIndex=0;this.repeat=-1;this.delay=0;this.image=null;this.pixels=null;this.indexedPixels=null;this.colorDepth=null;this.colorTab=null;this.neuQuant=null;this.usedEntry=new Array;this.palSize=7;this.dispose=-1;this.firstFrame=true;this.sample=10;this.dither=false;this.globalPalette=false;this.out=new ByteArray}GIFEncoder.prototype.setDelay=function(milliseconds){this.delay=Math.round(milliseconds/10)};GIFEncoder.prototype.setFrameRate=function(fps){this.delay=Math.round(100/fps)};GIFEncoder.prototype.setDispose=function(disposalCode){if(disposalCode>=0)this.dispose=disposalCode};GIFEncoder.prototype.setRepeat=function(repeat){this.repeat=repeat};GIFEncoder.prototype.setTransparent=function(color){this.transparent=color};GIFEncoder.prototype.addFrame=function(imageData){this.image=imageData;this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null;this.getImagePixels();this.analyzePixels();if(this.globalPalette===true)this.globalPalette=this.colorTab;if(this.firstFrame){this.writeLSD();this.writePalette();if(this.repeat>=0){this.writeNetscapeExt()}}this.writeGraphicCtrlExt();this.writeImageDesc();if(!this.firstFrame&&!this.globalPalette)this.writePalette();this.writePixels();this.firstFrame=false};GIFEncoder.prototype.finish=function(){this.out.writeByte(59)};GIFEncoder.prototype.setQuality=function(quality){if(quality<1)quality=1;this.sample=quality};GIFEncoder.prototype.setDither=function(dither){if(dither===true)dither="FloydSteinberg";this.dither=dither};GIFEncoder.prototype.setGlobalPalette=function(palette){this.globalPalette=palette};GIFEncoder.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};GIFEncoder.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")};GIFEncoder.prototype.analyzePixels=function(){if(!this.colorTab){this.neuQuant=new NeuQuant(this.pixels,this.sample);this.neuQuant.buildColormap();this.colorTab=this.neuQuant.getColormap()}if(this.dither){this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null)}else{this.indexPixels()}this.pixels=null;this.colorDepth=8;this.palSize=7;if(this.transparent!==null){this.transIndex=this.findClosest(this.transparent,true)}};GIFEncoder.prototype.indexPixels=function(imgq){var nPix=this.pixels.length/3;this.indexedPixels=new Uint8Array(nPix);var k=0;for(var j=0;j<nPix;j++){var index=this.findClosestRGB(this.pixels[k++]&255,this.pixels[k++]&255,this.pixels[k++]&255);this.usedEntry[index]=true;this.indexedPixels[j]=index}};GIFEncoder.prototype.ditherPixels=function(kernel,serpentine){var kernels={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!kernel||!kernels[kernel]){throw"Unknown dithering kernel: "+kernel}var ds=kernels[kernel];var index=0,height=this.height,width=this.width,data=this.pixels;var direction=serpentine?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var y=0;y<height;y++){if(serpentine)direction=direction*-1;for(var x=direction==1?0:width-1,xend=direction==1?width:0;x!==xend;x+=direction){index=y*width+x;var idx=index*3;var r1=data[idx];var g1=data[idx+1];var b1=data[idx+2];idx=this.findClosestRGB(r1,g1,b1);this.usedEntry[idx]=true;this.indexedPixels[index]=idx;idx*=3;var r2=this.colorTab[idx];var g2=this.colorTab[idx+1];var b2=this.colorTab[idx+2];var er=r1-r2;var eg=g1-g2;var eb=b1-b2;for(var i=direction==1?0:ds.length-1,end=direction==1?ds.length:0;i!==end;i+=direction){var x1=ds[i][1];var y1=ds[i][2];if(x1+x>=0&&x1+x<width&&y1+y>=0&&y1+y<height){var d=ds[i][0];idx=index+x1+y1*width;idx*=3;data[idx]=Math.max(0,Math.min(255,data[idx]+er*d));data[idx+1]=Math.max(0,Math.min(255,data[idx+1]+eg*d));data[idx+2]=Math.max(0,Math.min(255,data[idx+2]+eb*d))}}}}};GIFEncoder.prototype.findClosest=function(c,used){return this.findClosestRGB((c&16711680)>>16,(c&65280)>>8,c&255,used)};GIFEncoder.prototype.findClosestRGB=function(r,g,b,used){if(this.colorTab===null)return-1;if(this.neuQuant&&!used){return this.neuQuant.lookupRGB(r,g,b)}var c=b|g<<8|r<<16;var minpos=0;var dmin=256*256*256;var len=this.colorTab.length;for(var i=0,index=0;i<len;index++){var dr=r-(this.colorTab[i++]&255);var dg=g-(this.colorTab[i++]&255);var db=b-(this.colorTab[i++]&255);var d=dr*dr+dg*dg+db*db;if((!used||this.usedEntry[index])&&d<dmin){dmin=d;minpos=index}}return minpos};GIFEncoder.prototype.getImagePixels=function(){var w=this.width;var h=this.height;this.pixels=new Uint8Array(w*h*3);var data=this.image;var srcPos=0;var count=0;for(var i=0;i<h;i++){for(var j=0;j<w;j++){this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];srcPos++}}};GIFEncoder.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33);this.out.writeByte(249);this.out.writeByte(4);var transp,disp;if(this.transparent===null){transp=0;disp=0}else{transp=1;disp=2}if(this.dispose>=0){disp=dispose&7}disp<<=2;this.out.writeByte(0|disp|0|transp);this.writeShort(this.delay);this.out.writeByte(this.transIndex);this.out.writeByte(0)};GIFEncoder.prototype.writeImageDesc=function(){this.out.writeByte(44);this.writeShort(0);this.writeShort(0);this.writeShort(this.width);this.writeShort(this.height);if(this.firstFrame||this.globalPalette){this.out.writeByte(0)}else{this.out.writeByte(128|0|0|0|this.palSize)}};GIFEncoder.prototype.writeLSD=function(){this.writeShort(this.width);this.writeShort(this.height);this.out.writeByte(128|112|0|this.palSize);this.out.writeByte(0);this.out.writeByte(0)};GIFEncoder.prototype.writeNetscapeExt=function(){this.out.writeByte(33);this.out.writeByte(255);this.out.writeByte(11);this.out.writeUTFBytes("NETSCAPE2.0");this.out.writeByte(3);this.out.writeByte(1);this.writeShort(this.repeat);this.out.writeByte(0)};GIFEncoder.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var n=3*256-this.colorTab.length;for(var i=0;i<n;i++)this.out.writeByte(0)};GIFEncoder.prototype.writeShort=function(pValue){this.out.writeByte(pValue&255);this.out.writeByte(pValue>>8&255)};GIFEncoder.prototype.writePixels=function(){var enc=new LZWEncoder(this.width,this.height,this.indexedPixels,this.colorDepth);enc.encode(this.out)};GIFEncoder.prototype.stream=function(){return this.out};module.exports=GIFEncoder},{"./LZWEncoder.js":2,"./TypedNeuQuant.js":3}],2:[function(require,module,exports){var EOF=-1;var BITS=12;var HSIZE=5003;var masks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function LZWEncoder(width,height,pixels,colorDepth){var initCodeSize=Math.max(2,colorDepth);var accum=new Uint8Array(256);var htab=new Int32Array(HSIZE);var codetab=new Int32Array(HSIZE);var cur_accum,cur_bits=0;var a_count;var free_ent=0;var maxcode;var clear_flg=false;var g_init_bits,ClearCode,EOFCode;function char_out(c,outs){accum[a_count++]=c;if(a_count>=254)flush_char(outs)}function cl_block(outs){cl_hash(HSIZE);free_ent=ClearCode+2;clear_flg=true;output(ClearCode,outs)}function cl_hash(hsize){for(var i=0;i<hsize;++i)htab[i]=-1}function compress(init_bits,outs){var fcode,c,i,ent,disp,hsize_reg,hshift;g_init_bits=init_bits;clear_flg=false;n_bits=g_init_bits;maxcode=MAXCODE(n_bits);ClearCode=1<<init_bits-1;EOFCode=ClearCode+1;free_ent=ClearCode+2;a_count=0;ent=nextPixel();hshift=0;for(fcode=HSIZE;fcode<65536;fcode*=2)++hshift;hshift=8-hshift;hsize_reg=HSIZE;cl_hash(hsize_reg);output(ClearCode,outs);outer_loop:while((c=nextPixel())!=EOF){fcode=(c<<BITS)+ent;i=c<<hshift^ent;if(htab[i]===fcode){ent=codetab[i];continue}else if(htab[i]>=0){disp=hsize_reg-i;if(i===0)disp=1;do{if((i-=disp)<0)i+=hsize_reg;if(htab[i]===fcode){ent=codetab[i];continue outer_loop}}while(htab[i]>=0)}output(ent,outs);ent=c;if(free_ent<1<<BITS){codetab[i]=free_ent++;htab[i]=fcode}else{cl_block(outs)}}output(ent,outs);output(EOFCode,outs)}function encode(outs){outs.writeByte(initCodeSize);remaining=width*height;curPixel=0;compress(initCodeSize+1,outs);outs.writeByte(0)}function flush_char(outs){if(a_count>0){outs.writeByte(a_count);outs.writeBytes(accum,0,a_count);a_count=0}}function MAXCODE(n_bits){return(1<<n_bits)-1}function nextPixel(){if(remaining===0)return EOF;--remaining;var pix=pixels[curPixel++];return pix&255}function output(code,outs){cur_accum&=masks[cur_bits];if(cur_bits>0)cur_accum|=code<<cur_bits;else cur_accum=code;cur_bits+=n_bits;while(cur_bits>=8){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}if(free_ent>maxcode||clear_flg){if(clear_flg){maxcode=MAXCODE(n_bits=g_init_bits);clear_flg=false}else{++n_bits;if(n_bits==BITS)maxcode=1<<BITS;else maxcode=MAXCODE(n_bits)}}if(code==EOFCode){while(cur_bits>0){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}flush_char(outs)}}this.encode=encode}module.exports=LZWEncoder},{}],3:[function(require,module,exports){var ncycles=100;var netsize=256;var maxnetpos=netsize-1;var netbiasshift=4;var intbiasshift=16;var intbias=1<<intbiasshift;var gammashift=10;var gamma=1<<gammashift;var betashift=10;var beta=intbias>>betashift;var betagamma=intbias<<gammashift-betashift;var initrad=netsize>>3;var radiusbiasshift=6;var radiusbias=1<<radiusbiasshift;var initradius=initrad*radiusbias;var radiusdec=30;var alphabiasshift=10;var initalpha=1<<alphabiasshift;var alphadec;var radbiasshift=8;var radbias=1<<radbiasshift;var alpharadbshift=alphabiasshift+radbiasshift;var alpharadbias=1<<alpharadbshift;var prime1=499;var prime2=491;var prime3=487;var prime4=503;var minpicturebytes=3*prime4;function NeuQuant(pixels,samplefac){var network;var netindex;var bias;var freq;var radpower;function init(){network=[];netindex=new Int32Array(256);bias=new Int32Array(netsize);freq=new Int32Array(netsize);radpower=new Int32Array(netsize>>3);var i,v;for(i=0;i<netsize;i++){v=(i<<netbiasshift+8)/netsize;network[i]=new Float64Array([v,v,v,0]);freq[i]=intbias/netsize;bias[i]=0}}function unbiasnet(){for(var i=0;i<netsize;i++){network[i][0]>>=netbiasshift;network[i][1]>>=netbiasshift;network[i][2]>>=netbiasshift;network[i][3]=i}}function altersingle(alpha,i,b,g,r){network[i][0]-=alpha*(network[i][0]-b)/initalpha;network[i][1]-=alpha*(network[i][1]-g)/initalpha;network[i][2]-=alpha*(network[i][2]-r)/initalpha}function alterneigh(radius,i,b,g,r){var lo=Math.abs(i-radius);var hi=Math.min(i+radius,netsize);var j=i+1;var k=i-1;var m=1;var p,a;while(j<hi||k>lo){a=radpower[m++];if(j<hi){p=network[j++];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}if(k>lo){p=network[k--];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}}}function contest(b,g,r){var bestd=~(1<<31);var bestbiasd=bestd;var bestpos=-1;var bestbiaspos=bestpos;var i,n,dist,biasdist,betafreq;for(i=0;i<netsize;i++){n=network[i];dist=Math.abs(n[0]-b)+Math.abs(n[1]-g)+Math.abs(n[2]-r);if(dist<bestd){bestd=dist;bestpos=i}biasdist=dist-(bias[i]>>intbiasshift-netbiasshift);if(biasdist<bestbiasd){bestbiasd=biasdist;bestbiaspos=i}betafreq=freq[i]>>betashift;freq[i]-=betafreq;bias[i]+=betafreq<<gammashift}freq[bestpos]+=beta;bias[bestpos]-=betagamma;return bestbiaspos}function inxbuild(){var i,j,p,q,smallpos,smallval,previouscol=0,startpos=0;for(i=0;i<netsize;i++){p=network[i];smallpos=i;smallval=p[1];for(j=i+1;j<netsize;j++){q=network[j];if(q[1]<smallval){smallpos=j;smallval=q[1]}}q=network[smallpos];if(i!=smallpos){j=q[0];q[0]=p[0];p[0]=j;j=q[1];q[1]=p[1];p[1]=j;j=q[2];q[2]=p[2];p[2]=j;j=q[3];q[3]=p[3];p[3]=j}if(smallval!=previouscol){netindex[previouscol]=startpos+i>>1;for(j=previouscol+1;j<smallval;j++)netindex[j]=i;previouscol=smallval;startpos=i}}netindex[previouscol]=startpos+maxnetpos>>1;for(j=previouscol+1;j<256;j++)netindex[j]=maxnetpos}function inxsearch(b,g,r){var a,p,dist;var bestd=1e3;var best=-1;var i=netindex[g];var j=i-1;while(i<netsize||j>=0){if(i<netsize){p=network[i];dist=p[1]-g;if(dist>=bestd)i=netsize;else{i++;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}if(j>=0){p=network[j];dist=g-p[1];if(dist>=bestd)j=-1;else{j--;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}}return best}function learn(){var i;var lengthcount=pixels.length;var alphadec=30+(samplefac-1)/3;var samplepixels=lengthcount/(3*samplefac);var delta=~~(samplepixels/ncycles);var alpha=initalpha;var radius=initradius;var rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(i=0;i<rad;i++)radpower[i]=alpha*((rad*rad-i*i)*radbias/(rad*rad));var step;if(lengthcount<minpicturebytes){samplefac=1;step=3}else if(lengthcount%prime1!==0){step=3*prime1}else if(lengthcount%prime2!==0){step=3*prime2}else if(lengthcount%prime3!==0){step=3*prime3}else{step=3*prime4}var b,g,r,j;var pix=0;i=0;while(i<samplepixels){b=(pixels[pix]&255)<<netbiasshift;g=(pixels[pix+1]&255)<<netbiasshift;r=(pixels[pix+2]&255)<<netbiasshift;j=contest(b,g,r);altersingle(alpha,j,b,g,r);if(rad!==0)alterneigh(rad,j,b,g,r);pix+=step;if(pix>=lengthcount)pix-=lengthcount;i++;if(delta===0)delta=1;if(i%delta===0){alpha-=alpha/alphadec;radius-=radius/radiusdec;rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(j=0;j<rad;j++)radpower[j]=alpha*((rad*rad-j*j)*radbias/(rad*rad))}}}function buildColormap(){init();learn();unbiasnet();inxbuild()}this.buildColormap=buildColormap;function getColormap(){var map=[];var index=[];for(var i=0;i<netsize;i++)index[network[i][3]]=i;var k=0;for(var l=0;l<netsize;l++){var j=index[l];map[k++]=network[j][0];map[k++]=network[j][1];map[k++]=network[j][2]}return map}this.getColormap=getColormap;this.lookupRGB=inxsearch}module.exports=NeuQuant},{}],4:[function(require,module,exports){var GIFEncoder,renderFrame;GIFEncoder=require("./GIFEncoder.js");renderFrame=function(frame){var encoder,page,stream,transfer;encoder=new GIFEncoder(frame.width,frame.height);if(frame.index===0){encoder.writeHeader()}else{encoder.firstFrame=false}encoder.setTransparent(frame.transparent);encoder.setRepeat(frame.repeat);encoder.setDelay(frame.delay);encoder.setQuality(frame.quality);encoder.setDither(frame.dither);encoder.setGlobalPalette(frame.globalPalette);encoder.addFrame(frame.data);if(frame.last){encoder.finish()}if(frame.globalPalette===true){frame.globalPalette=encoder.getGlobalPalette()}stream=encoder.stream();frame.data=stream.pages;frame.cursor=stream.cursor;frame.pageSize=stream.constructor.pageSize;if(frame.canTransfer){transfer=function(){var i,len,ref,results;ref=frame.data;results=[];for(i=0,len=ref.length;i<len;i++){page=ref[i];results.push(page.buffer)}return results}();return self.postMessage(frame,transfer)}else{return self.postMessage(frame)}};self.onmessage=function(event){return renderFrame(event.data)}},{"./GIFEncoder.js":1}]},{},[4]);';var d;try{d=new Blob([p],{type:"application/javascript"})}catch(C){var c=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;d=new c;d.append(p);d=d.getBlob()}var g=function(e,t){var i=t.emptyImage,r=t.animationFrames,n=t.interval,a=n===void 0?100:n;return new Promise((function(t){var n=new f({workers:4,workerScript:URL.createObjectURL(d),quality:10,background:"transparent",transparent:"transparent",width:o,height:o});var s=Array.isArray(e)?e:__spreadArrays([e,e,e,e,i,i,e,e,e,i,i,e,i,i,e,i,e,i,e,i,e,i],Array.from(r)).filter((function(e){return e!=null}));s.forEach((function(e){n.addFrame(e,{delay:a})}));n.on("finished",(function(e){var i=URL.createObjectURL(e);t(i)}));n.render()}))};var m=e("explosion_maker",function(){function e(e){var i=this;t(this,e);this.explosionImage=null;this.uploading=false;this.emptyImage=null;this.animationFrames=null;this.handleChange=function(e){return __awaiter(i,void 0,void 0,(function(){var t,i,r;return __generator(this,(function(n){switch(n.label){case 0:this.uploading=true;this.explosionImage=null;t=e.target.files.item(0);return[4,l(t)];case 1:i=n.sent();return[4,g(i,{emptyImage:this.emptyImage,animationFrames:this.animationFrames})];case 2:r=n.sent();this.explosionImage=r;this.uploading=false;return[2]}}))}))};this.afterLoad=function(e){i.animationFrames=e}}e.prototype.handleLoad=function(e){this.emptyImage=e.currentTarget};e.prototype.render=function(){var e=this;var t;return i("section",null,i("h2",null,"Explosion Effect"),i("div",{"aria-hidden":"true"},i("img",{class:"empty-image",width:o,height:o,src:n("../../assets/empty.gif").replace(/^\//,""),role:"presentation",onLoad:function(t){e.handleLoad(t)}})),i("image-group",{afterLoad:this.afterLoad}),i("div",null,i("img",{src:(t=this.explosionImage,t!==null&&t!==void 0?t:""),width:o,height:o,role:"presentation"})),i("label",null,i("input",{id:"explosion-target",type:"file",accept:"image/*",onChange:this.handleChange,disabled:this.uploading}),i("span",null,"Upload Image")))};Object.defineProperty(e,"style",{get:function(){return"[aria-hidden=true]{position:absolute;padding:0;width:1px;height:1px;border:0;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}input[type=file]{display:none}input[type=file]+span{display:inline-block;margin:20px 0 32px;padding:12px 24px;color:#fff;background-color:#57BBB3;border-radius:3px;font-weight:700;-webkit-box-shadow:inset 0 -3px 0 rgba(0, 0, 0, 0.1);box-shadow:inset 0 -3px 0 rgba(0, 0, 0, 0.1);cursor:pointer}input[type=file]:disabled+span{opacity:0.5;cursor:not-allowed}input[type=file]:not(disabled)+span:hover,input[type=file]:not(disabled)+span:focus{-webkit-box-shadow:inset 0 -3px 0 rgba(0, 0, 0, 0.1), inset 0 -8em 0 rgba(255, 255, 255, 0.2);box-shadow:inset 0 -3px 0 rgba(0, 0, 0, 0.1), inset 0 -8em 0 rgba(255, 255, 255, 0.2)}input[type=file]:not(disabled)+span:active{-webkit-box-shadow:inset 0 -1px 0 rgba(0, 0, 0, 0.07), inset 0 -8em 0 rgba(0, 0, 0, 0.15);box-shadow:inset 0 -1px 0 rgba(0, 0, 0, 0.07), inset 0 -8em 0 rgba(0, 0, 0, 0.15)}img{border:1px dashed #57BBB3;border-radius:4px}img[src=\"\"]{content:url(\"data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\")}"},enumerable:true,configurable:true});return e}());var v=e("github_corner",function(){function e(e){t(this,e)}e.prototype.render=function(){return i("a",{href:"https://github.com/wonism/animoji-maker",class:"github-corner","aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer"},i("svg",{viewBox:"0 0 250 250"},i("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),i("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",class:"octo-arm"}),i("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"})))};Object.defineProperty(e,"style",{get:function(){return".github-corner:hover .octo-arm{-webkit-animation:octocat-wave 560ms ease-in-out;animation:octocat-wave 560ms ease-in-out}.github-corner .octo-arm{-webkit-transform-origin:130px 106px;transform-origin:130px 106px}.github-corner>svg{position:absolute;top:0;right:0;width:80px;height:80px;color:#fff;border:0;fill:#57BBB3;z-index:1}\@-webkit-keyframes octocat-wave{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}20%,60%{-webkit-transform:rotate(-25deg);transform:rotate(-25deg)}40%,80%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}}\@keyframes octocat-wave{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}20%,60%{-webkit-transform:rotate(-25deg);transform:rotate(-25deg)}40%,80%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}}\@media (max-width: 500px){.github-corner:hover .octo-arm{-webkit-animation:none;animation:none}.github-corner .octo-arm{-webkit-animation:octocat-wave 560ms ease-in-out;animation:octocat-wave 560ms ease-in-out}}"},enumerable:true,configurable:true});return e}());var b=e("image_group",function(){function e(e){t(this,e);this.totalImageCount=17;this.renderedCount=0}e.prototype.handleLoad=function(){this.renderedCount++};Object.defineProperty(e.prototype,"fullyLoaded",{get:function(){return this.totalImageCount===this.renderedCount},enumerable:true,configurable:true});e.prototype.componentDidRender=function(){var e=this.element.querySelectorAll("img");if(this.fullyLoaded){this.afterLoad(e)}};e.prototype.render=function(){var e=this;return i("div",{class:"image-group","aria-hidden":"true"},new Array(this.totalImageCount).fill(null).map((function(t,r){var a=n("../../assets/explosion-"+(r+1)+".gif");return i("img",{src:a.replace(/^\//,""),role:"presentation",onLoad:function(){e.handleLoad()}})})))};Object.defineProperty(e.prototype,"element",{get:function(){return a(this)},enumerable:true,configurable:true});return e}());var y=e("rainbow_effect",function(){function e(e){t(this,e);this.file=null;this.rainbowImage=null;this.uploading=false;this.alpha="0.5"}e.prototype.addEffect=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i;var r=this;return __generator(this,(function(n){switch(n.label){case 0:if(this.file==null){return[2]}this.uploading=true;e=new Array(360/15).fill(15).map((function(e,t){return e*t}));return[4,Promise.all(e.map((function(e){return __awaiter(r,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,l(this.file,{hue:e,alpha:this.alpha})];case 1:t=i.sent();return[2,t]}}))}))})))];case 1:t=n.sent();return[4,g(t,{interval:50})];case 2:i=n.sent();this.rainbowImage=i;this.uploading=false;return[2]}}))}))};e.prototype.handleChange=function(e,t){this.rainbowImage=null;if(t==="alpha"){this.alpha=e.target.value}else{this.file=e.target.files.item(0)}this.addEffect()};e.prototype.render=function(){var e=this;var t;return i("section",null,i("h2",null,"Rainbow Effect"),i("div",null,i("img",{src:(t=this.rainbowImage,t!==null&&t!==void 0?t:""),width:o,height:o,role:"presentation"})),i("fieldset",null,i("label",null,i("span",null,"Alpha(0.1-1):Â "),i("input",{type:"range",min:.1,max:1,step:.1,onChange:function(t){e.handleChange(t,"alpha")},value:this.alpha,disabled:this.uploading})),i("label",{class:"output-label"},i("span",null,"Alpha(0.1-1):Â "),i("output",null,this.alpha))),i("label",null,i("input",{id:"rainbow-target",type:"file",accept:"image/*",onChange:function(t){e.handleChange(t,"rainbowImage")},disabled:this.uploading}),i("span",null,"Upload Image")))};Object.defineProperty(e,"style",{get:function(){return""},enumerable:true,configurable:true});return e}());var w=function(e,t,i,r,n){return new Promise((function(a){var s=document.createElement("canvas");s.width=o;s.height=o;var l=s.getContext("2d");l.beginPath();l.rect(0,0,o,o);l.fillStyle=i;l.fill();l.font="normal bold "+o/1.4+"px "+r;l.textAlign="center";l.textBaseline="middle";l.fillStyle=t;l.fillText(e,o/2,o/2+Number(n));a(l)}))};var x=["monospace","Lato","Nanum Gothic","Noto Sans KR"];var _=e("text_carousel",function(){function e(e){t(this,e);this.textImage=null;this.text="";this.fgColor="#000000";this.bgColor="#ffffff";this.fontFamily="monospace";this.interval=300;this.uploading=false;this.yPos="0"}e.prototype.handleSubmit=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i;var r=this;return __generator(this,(function(n){switch(n.label){case 0:if(this.text.length===0){return[2,alert("Please input.")]}this.uploading=true;this.textImage=null;e=this.text.split("");return[4,Promise.all(e.map((function(e){return __awaiter(r,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,w(e,this.fgColor,this.bgColor,this.fontFamily,this.yPos)];case 1:t=i.sent();return[2,t]}}))}))})))];case 1:t=n.sent();return[4,g(t,{interval:this.interval})];case 2:i=n.sent();this.textImage=i;this.uploading=false;return[2]}}))}))};e.prototype.handleChange=function(e,t){if(t==="interval"){this[t]=Number(e.target.value.replace(/\D/g,""))}else{this[t]=e.target.value}};e.prototype.render=function(){var e=this;var t;return i("section",null,i("h2",null,"Text Carousel"),i("form",{onSubmit:function(t){t.preventDefault();e.handleSubmit()}},i("output",null,i("img",{src:(t=this.textImage,t!==null&&t!==void 0?t:""),width:o,height:o,role:"presentation"})),i("fieldset",null,i("label",null,i("span",null,"Text:Â "),i("input",{type:"text",value:this.text,onChange:function(t){e.handleChange(t,"text")},placeholder:"Will be shown up one by one"})),i("label",null,i("span",null,"Text Color:Â "),i("input",{type:"color",value:this.fgColor,onChange:function(t){e.handleChange(t,"fgColor")}})),i("label",null,i("span",null,"Background Color:Â "),i("input",{type:"color",value:this.bgColor,onChange:function(t){e.handleChange(t,"bgColor")}})),i("label",null,i("span",null,"Interval:Â "),i("input",{type:"text",value:this.interval,onChange:function(t){e.handleChange(t,"interval")}})),i("label",null,i("span",null,"Font:Â "),i("select",{onChange:function(t){e.handleChange(t,"fontFamily")}},x.map((function(t){return i("option",{value:t,selected:e.fontFamily===t},t)})))),i("label",null,i("span",null,"Y-Coord:Â "),i("input",{type:"range",min:-30,max:30,step:1,onChange:function(t){e.handleChange(t,"yPos")},value:this.yPos})),i("label",{class:"output-label"},i("span",null,"Y-Coord:Â "),i("output",null,this.yPos,"px"))),i("button",{type:"button",class:"submit",disabled:this.uploading,onClick:function(){e.handleSubmit()}},"Submit")))};Object.defineProperty(e,"style",{get:function(){return"\@import url(\"https://fonts.googleapis.com/css?family=Lato|Nanum+Gothic|Noto+Sans+KR&display=swap\");img{border:1px dashed #57BBB3;border-radius:4px}img[src=\"\"]{content:url(\"data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\")}fieldset{margin:20px auto 0;max-width:240px;border:0;text-align:left}fieldset>label{display:-ms-flexbox;display:flex;line-height:32px;-ms-flex-align:center;align-items:center;white-space:nowrap}fieldset>label>input:not([type=color]),fieldset>label>select{-ms-flex:1;flex:1}.output-label{line-height:1}.output-label span{color:transparent}.submit{display:inline-block;margin:20px 0 32px;padding:12px 24px;color:#fff;background-color:#57BBB3;border:0;border-radius:3px;font-weight:700;-webkit-box-shadow:inset 0 -3px 0 rgba(0, 0, 0, 0.1);box-shadow:inset 0 -3px 0 rgba(0, 0, 0, 0.1);cursor:pointer;outline:0}.submit:disabled{opacity:0.5;cursor:not-allowed}.submit:hover,.submit:focus{-webkit-box-shadow:inset 0 -3px 0 rgba(0, 0, 0, 0.1), inset 0 -8em 0 rgba(255, 255, 255, 0.2);box-shadow:inset 0 -3px 0 rgba(0, 0, 0, 0.1), inset 0 -8em 0 rgba(255, 255, 255, 0.2)}.submit:active{-webkit-box-shadow:inset 0 -1px 0 rgba(0, 0, 0, 0.07), inset 0 -8em 0 rgba(0, 0, 0, 0.15);box-shadow:inset 0 -1px 0 rgba(0, 0, 0, 0.07), inset 0 -8em 0 rgba(0, 0, 0, 0.15)}"},enumerable:true,configurable:true});return e}())}}}));